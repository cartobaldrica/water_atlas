# water_atlas

Oregon Flooding: http://rawgit.com/cartobaldrica/water_atlas/master/flood_index.html <br>
Oregon Drinking Water: http://rawgit.com/cartobaldrica/water_atlas/master/drinking_index.html

The Oregon Water Atlas is a project being created for the Oregon Institute for Water and Watersheds. It is also the basis for my undergraduate thesis that I’ll be completing next term. For the purposes of GEOG 371, I’ve prepared two atlas pages and worked on creating a framework for more. The pages are effectively a preview for the final atlas, which will have around 10 pages in addition to a data portal.
	The goal of the Oregon Water Atlas is to visualize how Oregonians think about their water. It combines open source data from a variety of different sources and aggregates it in one location. This is in response to the disparate nature of Oregon water data, which is created by a number of different state agencies. While most of the data can be found in the Oregon Spatial Data Library, there is no place where it is all visualized. The driving question behind the atlas is intentionally broad, and each page will also attempt to answer a specific question within its topic area. For example, a page about dams would attempt to answer the question, “How are Oregon Dams utilized?” Oregon Water Atlas will be a resource for the Oregon public, and can also be used to demonstrate the importance of cartography in disseminating data.  
	Towards the beginning of the term, I spent a lot of time creating basemaps for my project. While a lot of beautiful, open-source basemaps exist, I wanted to hone my basemap to the specific visual styling I envisioned for the project. Unfortunately, the creation of basemaps using geoserver caused their rendering to be extremely slow. As a result, I have reverted to open source basemaps for the submitted assignment. However, my basemaps are included in the screenshots in below sections. 
	The two pages I created for GEOG 371 are about flooding and drinking water. I found very different data for both, and tried to make each page visually unique and striking. Each map uses the storymap plugin created by Dr. Zhao. However, I made some tweaks and included some features that aren’t present in his vanilla version. In each page, there is a minimap in the bottom right corner that responds to user input. When the map is moved, the minimap responds accordingly. For a dynamic map, it is important for users to understand the extent boundary of the main map. Additionally, in the flooding map, there are photos that can be selected and enlarged. Because this project is part of an atlas, it is important to include other visualizations besides maps that aid the display of information.
	The flooding map is split into two sections. The first is a survey of major Oregon floods throughout history. Unfortunately, there are several major floods that lacked specific geographic data. In the future, I may create data for these floods, but in the meantime, I decided to leave them out of the project. For all the major Willamette Valley floods (1861,1964,1996), the data were obtained from the Oregon Spatial Data Library and were originally created by FEMA. Flood risk information was also obtained from the Oregon Spatial Data Library. The Vanport data were created based on historical maps of Vanport obtained from the Oregon Historical Society. Data about demographics were obtained from the U.S Census Bureau.
	The drinking water map data were obtained from the Oregon Department of Environmental Quality. The map contains information about drinking water sources (surface and ground), as well as potential contaminant sources.
	All of the thematic layers are uploaded onto the mapio.us geoserver. Layers with small amounts of data are served as WFS layers, while larger, more complex datasets are served as WMS layers. One tradeoff is the increased ability for WFS layers to allow interactivity. For example, in the drinking water map, WFS is used in a potential contaminant source layer. While the layer certainly takes more time to load than if it were a WMS layer, serving it as a WFS layer allows users to hover over each point to learn the name of the source. In this case, there’s a tradeoff between speed and interactivity. If my datasets weren’t so large, it would be advantageous to serve them all as WFS layers, both for interactivity and ease of symbolizing on the fly. Currently only one layer (groundwater drinking water sources) made serving it as a WMS layer a requirement, as serving it as a WFS layer made the entire page very slow.
	One of the major benefits of this project was learning how to problem-solve and debug code. While this was certainly difficult at times, I think I greatly improved my ability to pinpoint the exact cause of an issue. I also learned (sometimes the hard way) how to navigate decisions for serving web maps online. How slow is too slow? The trade-off between client and server-side is case specific, and I feel like I have a better understanding of which is ideal based on the available data and goals of the project. I’m really glad to have learned as much HTML and Leaflet skills as I did, and I’m excited to dive deeper and perhaps someday write plugins of my own. I also enjoyed the focus on open-source GIS and web mapping applications.
	While this final project is merely a preview to a much larger project, I’m much more confident in my ability to complete the entire atlas by the end of next term than I was at the beginning of this term. There are certainly improvements that can be made in both pages, but in their current state they serve as an accurate preview of pages to come. 
